<!DOCTYPE html>
<html lang = "en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title> Cryptography </title>
      <link rel="stylesheet" href="affinestyle.css">
       
   </head>
   <!-- body tags contains everything visible on the webpage -->
   <body> 
    <header></header>
    <main> 
        <div class="navbar">
            <a href="caesarcipher.html">Caesar Cipher</a>
            <a href="affinecipher.html">Simple Affine Cipher</a>
        </div>
        <h1 style="font-size: 45px;">Simple Affine Cipher</h1>
        <p><strong>Now let's learn about Simple Affine Cipher!</strong></p>
        <p> This time, we have a jumping size (also known as the <strong>scaling factor</strong>) 
            that makes the cipher a little more difficult to crack. The jump size jumbles 
            the order of the alphabets! Try the decoding you'll find it more difficult.üòâ
            Imagine you have a secret message that you want to send to your friend. 
            What if someone else steals and reads your secret message? How can your 
            messages be protected?</p>
        <h2 style="font-size: 30px;">How does Simple Affine Cipher work?</h2>
        <p>Simple Affine Cipher works by jumbling up the order of the alphabets before shifting 
            by a certain number of positions. Let's try and find patterns and numbers that works.‚ú®
        </p>
       
        <!-- Container 1 -->
        <div class="toggle-instructions" onclick="toggleInstructions('container1')">
            <div class="instruction-title" style="font-size: 30px; font-family: Verdana, Geneva, Tahoma, sans-serif; margin-left: 20px;">‚≠ê Mission 1: Encode your message!<br></div>
                <div style="font-size: 20px; font-family: Verdana, Geneva, Tahoma, sans-serif; margin: 40px;" >Click here twice for instructions on turning your messages into secret coded messages <span id="arrow-container1">‚ñæ</span></div>
            <div class="instruction-content" id="instructions-container1">
                <p id="instruction-text-container1"></p>
                <div class="nav-buttons">
                    <button class="nav-btn" onclick="prevStep(event, 'container1')">‚¨ÖÔ∏è Back</button>
                    <button class="nav-btn" onclick="nextStep(event, 'container1')">Next ‚û°Ô∏è</button>
                </div>
            </div>
        </div>

        <div id="container1" class="container" style = "position: relative">
            <div class="wheel-wrapper" style = "position: relative; height: 900px"></div>
                <textarea id="inputText1" style = "position: absolute; bottom: 80px; left: 0px"  placeholder="Enter text to encrypt..." right="0px" oninput="setTimeout(() => encryptAffText(container1, keyInput1, scaleFactor1, inputText1, outputText1),2000); highlightInput(container1,inputText1)" ></textarea>
                <textarea id="outputText1"  style = "position: absolute; bottom: 80px; right: 0px" placeholder="Encrypted text will appear here..." readonly ></textarea>
                <!-- Highlightoing characters -->
                <div id="encryptionColour" style="margin-top: 20px;"></div> 
               
                <!-- Outer Wheel -->
                <div class="outer-wheel" id="outerWheel"></div>
                <div class="hide-wheel"></div>
                <!-- Inner Wheel -->
                <div  class="inner-wheel">
                    <div class="scroll">scroll</div>
                    <div class="center-wheel"></div>
                </div>
                <!-- Scaling Factor -->
                <div class="sf-info"> 
                    <h1>Enter the jump size: <br> <input placeholder="0" id="sf1" class="sf" > <br>  </h1>
                </div>
                <div class="key-info">
                    <h2>Enter the shift: <br> <input placeholder="0" id="key1" class="key" > <br>  </h2>
                </div>
            </div>

            <!-- Container 1_1 -->
            <div class="toggle-instructions" onclick="toggleInstructions('container1_1')">
                <div class="instruction-title" style="font-size: 30px; font-family: Verdana, Geneva, Tahoma, sans-serif; margin-left: 20px;">‚≠ê Mission 2: Decode your message!<br></div>
                    <div style="font-size: 20px; font-family: Verdana, Geneva, Tahoma, sans-serif; margin: 40px;" >Click here twice for instructions on decoding your encoded messages into your original message <span id="arrow-container1_1">‚ñæ</span></div>
                    <div class="instruction-content" id="instructions-container1_1">
                <div class="instruction-content" id="instructions-container1_1">
                    <p id="instruction-text-container1_1"></p>
                    <div class="nav-buttons">
                        <button class="nav-btn" onclick="prevStep(event, 'container1_1')">‚¨ÖÔ∏è Back</button>
                        <button class="nav-btn" onclick="nextStep(event, 'container1_1')">Next ‚û°Ô∏è</button>
                    </div>
                </div>
            </div>  
            
        <button class="btn" onclick="appearDisappearText('hint1', this)" style="font-size: 15px;">Hint 1 ‚ú®</button>
        <p id="hint1" style="display: none;"> Use mission 1 to encode a message with a certain jump size with a shift of 0.
            <br> Then find the correct decoding jumping size using this mission (the shift here will be 0 too!).üî•
            <br> After this, try adding the shift and find the correct decoding shift üòâ‚ú®
        </p>
        <button class="btn" onclick="appearDisappearText('hint2', this)" style="font-size: 15px; bottom: 150px;">Hint 2 ‚ú®</button>
        <p id="hint2" style="display: none;"> Here is an example of a decoding that works! üòé
            <br>Try to find why these work!üî•
            <br> e.g. Encoding jumping size = 3, encoding shift = 5. (3x + 5 mod 26)
            <br> Decoding jumping size: <strong>9</strong> (3x9 = 27 &#8801 1 mod 26)
            <br> Decoding shift: <strong>7</strong> (9x(<strong>-5</strong>) &#8801 7 mod 26 )
            <br>
            <br>Careful it's <strong>minus</strong> the encoding shift because it's decryption!üò≤‚ú®
        </p>

        <div id="container1_1" class="container" style = "position: relative">
            <div class="wheel-wrapper" style = "position: relative; height: 900px"></div>
                <!-- Highlighting characters -->
                <div id="encryptionColour" style="margin-top: 10px;"></div> 
                <textarea id="inputText1_1" style = "position: absolute; top: 80px; left: 0px" class="fixed-input-copy" placeholder="Enter text that you want to try to decrypt..."  oninput="setTimeout(() => encryptAffText(container1_1, keyInput1_1, scaleFactor1_1, inputText1_1, userOutputText1_1),1500); highlightInput(container1_1, inputText1_1)"></textarea><br> 
                <textarea id="userOutputText1_1" style="position: absolute; top: 80px; right: 0px" class="userEncryptText" placeholder="Decrypted text will appear here..." readonly ></textarea>
                
                <!-- Outer Wheel -->
                <div class="outer-wheel" id="outerWheel"></div>
                <div class="hide-wheel"></div>
                <!-- Inner Wheel -->
                <div onmousemove="m(event)" class="inner-wheel">
                <div class="scroll">scroll</div>
                <div class="center-wheel"></div>
                </div>
                <!-- Scaling Factor -->
                <div class="sf-info"> 
                    <h1>Enter the jump size: <br> <input placeholder="0" id="sf1_1" class="sf" > <br>  </h1>
                </div>
                <div class="key-info">
                    <h2>Enter the shift: <br> <input placeholder="0" id="key1_1" class="key" > <br>  </h2>
                </div>
            </div>

       
        <!-- Container 2 -->
        <div id="container2" class="container" style = "position: relative">
            <div class="wheel-wrapper" style = "position: relative; height: 900px"></div> 
                 <!-- Highlighted characters -->
                 <div id="encryptionColour" style="margin-top: 10px;"></div> 
                 <textarea id="inputText2" style = "position: absolute; bottom: 80px; left: 0px" class="fixed-input-copy" placeholder="Enter text that you want to try to encrypt..."  oninput=" highlightInput(container2, inputText2)"></textarea><br> <!--oninput="encryptAffText(container2, key2, sf2, inputText2, userOutputText2)" -->
                <textarea id="userOutputText2" style="position: absolute; bottom: 80px; right: 0px" class="userEncryptText" placeholder="Try to encrypt the text here..." oninput="checkAffEncipher(container2, key2, sf2, inputText2, userOutputText2)" ></textarea> 
                
                <p style="position: absolute; right: 80px; bottom: 300px" id="message" text-align="center"> </p>
                
                <!-- Outer Wheel -->
                <div class="outer-wheel" id="outerWheel"></div>
                <div class="hide-wheel"></div>
                <!-- Inner Wheel -->
                <div onmousemove="m(event)" class="inner-wheel">
                <div class="scroll">scroll</div>
                <div class="center-wheel"></div>
                </div>
                <!-- Scaling Factor -->
                <div class="sf-info"> 
                    <h1>Enter the jump size: <br> <input placeholder="0" id="sf2" class="sf" > <br>  </h1>
                </div>
                <div class="key-info">
                    <h2>Enter the shift: <br> <input placeholder="0" id="key2" class="key" > <br>  </h2>
                </div>
            </div>

             <!-- Container 3 -->
             <div id="container3" class="container" style = "position: relative">
                <div class="wheel-wrapper" style = "position: relative; height: 900px"></div>
                    <!-- Highlighted characters -->
                    <div id="encryptionColour" style="margin-top: 10px;"></div> 
                    <textarea id="inputText3" style = "position: absolute; bottom: 80px; left: 0px" class="fixed-input-copy" placeholder="Enter text that you want to try to encrypt..."  oninput="affineNumCipherRed('inputText3', 'key3', 'sf3', 26, 'userOutputText3', 'workingOut3'); highlightInput(container3, inputText3)"></textarea><br> 
                    <p id="workingOut3" style="right: 80px; bottom: 300px; color: blue" text-align="center"></p>
                    <textarea id="userOutputText3" style="position: absolute; bottom: 80px; right: 0px" class="userEncryptText" placeholder="Try to encrypt the text here..." oninput="checkEncipher(container3, key3, inputText3, userOutputText3)" ></textarea>
                   
                    <p style="position: absolute; right: 80px; bottom: 300px" id="message" text-align="center"> </p>
                    <div id="comparisonResult"></div>
                    <!-- Outer Wheel -->
                    <div class="outer-wheel" id="outerWheel" ></div>
                    <div class="hide-wheel" ></div>
                    <!-- Inner Wheel -->
                    <div onmousemove="m(event)" class="inner-wheel">
                    <div class="scroll">scroll</div>
                    <div class="center-wheel" ></div>
                    </div>
                    <!-- Scaling Factor -->
                    <div class="sf-info"> 
                        <h1>Enter the jump size: <br> <input placeholder="0" id="sf3" class="sf" > <br>  </h1>
                    </div>
                    <div class="key-info">
                        <h2>Enter the shift: <br> <input placeholder="0" id="key3" class="key" > <br>  </h2>
                    </div>
                </div>
        
                <!-- Container 4 -->
                <div id="container4" class="container" style = "position: relative">
                    <div class="wheel-wrapper" style = "position: relative; height: 900px"></div>
                        <!--For highlighted characters -->
                        <div id="encryptionColour" style="margin-top: 10px;"></div> 
                        <textarea id="inputText4" style = "position: absolute; bottom: 80px; left: 0px" class="fixed-input-copy" placeholder="Enter text that you want to try to encrypt..."  oninput="affineNumCipherMod('inputText4', 'key4', 'sf4', sliderMod, 'userOutputText4', 'workingOut4');"></textarea><br> 
                        <p id="workingOut4" style="right: 80px; bottom: 0px; color: blue" text-align="center"></p>
                        <textarea id="userOutputText4" style="position: absolute; bottom: 80px; right: 0px" class="userEncryptText" placeholder="Try to encrypt the text here..." oninput="checkAffEncipher(container5, key5, sf5, inputText4, userOutputText4)" ></textarea>
                       
                        <p style="position: absolute; right: 80px; bottom: 300px" id="message" text-align="center"> </p>
                        <div id="comparisonResult"></div>
                        
                        <div class="outer-wheel" id="outerWheel"></div>
                        <div class="hide-wheel"></div>
                        <div onmousemove="m(event)" class="inner-wheel">
                            <div class="scroll">scroll</div>
                            <div class="center-wheel"></div>
                        </div>
                        <!-- Scaling Factor -->
                        <div class="sf-info"> 
                            <h1>Enter the jump size: <br> <input placeholder="0" id="sf4" class="sf" > <br>  </h1>
                        </div>
                        <div class="key-info">
                            <h2>Enter the shift: <br> <input placeholder="0" id="key4" class="key" > <br>  </h2>
                        </div>
                        <div style="position: absolute; left: 40px; bottom: 500px; margin-bottom: 5px;">
                            <label for="segmentSlider"> Modulus (m): </label>
                            <input type="range" id="segmentSlider" min="2" max="45" value="26" step="1" oninput="changeAffSegment()">
                            <p style="position: relative; left: -30px; bottom: 0px;">Number of Segments: <span id="segmentValue"> 26</span></p>
                        </div>
                    </div>

                    <!-- Container 5 -->

                    <div id="container5" class="container" style = "position: relative">
                        <div class="wheel-wrapper" style = "position: relative; height: 900px"></div>
                           
                            <textarea id="inputText5" style = "position: absolute; top: 600px; left: 50px" class="fixed-input-copy" placeholder="Enter number that you want to try to encrypt..."  oninput="affineNumCipherMod('inputText5', 'key5', mod, 'userOutputText5', 'workingOut5');"></textarea><br>
                            <textarea id="userOutputText5" style="position: absolute; top: 600px; right: 85px" class="userEncryptText" placeholder="Try to encrypt the number here..." oninput="checkAffEncipherNum('inputText5', 'key5', 'sf5', 'userOutputText5', 'workingOut5')" ></textarea>
                    
                            <p id="workingOut5" style="right: 80px; bottom: 0px; color: blue" text-align="center"></p>
                            <p style="position: absolute; right: 120px; top: 500px" id="messageNum" text-align="center"> </p>
                            
                            <!-- Scaling Factor -->
                            <div class="sf-info" style="top: 100px; left: 500px; border-color: black;"> 
                                <h1 style="color: black;">Enter the jump size: <br> <input placeholder="0" id="sf5" class="sf" > <br>  </h1>
                            </div>
                            <div class="key-info" style="top: 100px; right: 1000px; border-color: black;">
                                <h2 style="color: black;">Enter the shift: <br> <input placeholder="0" id="key5" class="key" style="border-color: black;"> <br>  </h2>
                            </div>
                            <!-- Subtraction Slider -->
                            <div style="position: relative; left: 40px; top: -900px; margin-bottom: 5px;">
                                <label for="subtractionSlider"> Modulus (m): </label>
                                <input style = "width: 300px;" type="range" id="subtractionSlider" min="2" max="45" value="26" step="0.1" oninput="subtractionTable()">
                                <p style="position: relative; left: -30px; bottom: 0px;">Number of Segments: <span id="subtractionValue"> 26</span></p>
                                <table>
                                    <tbody>
                                        <tr id="topRow"></tr>
                                        <tr id="bottomRow"></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="navbar" style="position: absolute; top: 900px; left: 80px">
                                <a href="caesarcipher.html">Caesar Cipher</a>
                                <a href="affinecipher.html">Simple Affine Cipher</a>
                            </div>
                        </div>
    
    

    </main>

    <script src="affinescript.js"></script>


    <script>
        
        affineWheel(container1, charSet, numSegments, 162, sf1, outputText1);
        affineWheel(container1_1, charSet, numSegments, 162, sf1_1, userOutputText1_1);
        affineWheel(container2, charSet, numSegments, 162, sf2, userOutputText2);
        affineWheel(container3, charSet, numSegments, 162, sf3, userOutputText3);
        affineWheel(container4, charSet, numSegments, 162, sf4, userOutputText4);
     
    </script>
    

    </body>
</html>

