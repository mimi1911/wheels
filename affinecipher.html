<!DOCTYPE html>
<html lang = "en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title> Cryptography </title>
      <link rel="stylesheet" href="affinestyle.css">
       
   </head>
   <!-- body tags contains everything visible on the webpage -->
   <body> 
    <header></header>
    <main> 
        <div class="navbar">
            <a href="caesarcipher.html">Caesar Cipher</a>
            <a href="affinecipher.html">Simple Affine Cipher</a>
        </div>
        <h1 style="font-size: 45px;">Simple Affine Cipher</h1>
        <p><strong>Now let's learn about Simple Affine Cipher!</strong></p>
        <p> This time, we have a jumping size (also known as the <strong>scaling factor</strong>) 
            that makes the cipher a little more difficult to crack. The jump size jumbles 
            the order of the alphabets! Try the decoding you'll find it more difficult.üòâ
            Imagine you have a secret message that you want to send to your friend. 
            What if someone else steals and reads your secret message? How can your 
            messages be protected?</p>
        <h2 style="font-size: 30px;">How does Simple Affine Cipher work?</h2>
        <p>Simple Affine Cipher works by jumbling up the order of the alphabets before shifting 
            by a certain number of positions. Let's try and find patterns and numbers that works.‚ú®
        </p>
        <!-- <button class="btn" onclick="appearDisappearText()" style="font-size: 15px;">Learn more about Caesar cipher!</button>
        <p id="hiddenText">Caesar cipher is a way to encode the message so only the people with the 
            special key can access the original message called the <strong>plaintext</strong>. <br>
            This enciphering method is named after Roman leader Julius Caesar, who used 
            it to send secret messages to his army in the field - without protecting 
            his messages there is a greater risk of the opponent stealing and finding 
            out his whole plan!</p> -->
        
        <!-- <h3 style="font-size: 30px;">Try these simple steps to encode your message!</h3>
           <p style="font-size: 20px; background-color: rgb(173, 217, 250);"><strong>1. Type in the key</strong> you want (e.g. 3)<br></p>
            <p style="margin-top: 0px; margin-left: 55px;">The <strong>key</strong> determines how many positions the letters of an 
            alphabet set will shift. For example, if the key is 3, each letter will move 3 
            positions to the right, wrapping around at the end of the alphabet. For example, 
            B becomes E (and A becomes X, etc).<br></p>
            <p style="font-size: 20px; background-color: rgb(173, 217, 250);"><strong>2. Type in the plaintext message</strong> you want to encipher in the left textbox (e.g. "My 
            name is __")<br></p>
            <p style="margin-top: 0px; margin-left: 55px;">(<strong>Tip: </strong> Type slowly too see the letter from the plaintext highlight in red with the 
            corresponding ciphertext highlight in yellow!) <br></p>
            <p style="font-size: 20px; background-color: rgb(173, 217, 250);"><strong>3. The enciphered message</strong> will appear in the right textbox<br></p>
            <p style="margin-top: 0px; margin-left: 55px;">Check if you get the same encoding by finding the letter you want to encipher on 
            the grey inner-wheel, which represents the original alphabet set (or the <strong>plaintext</strong>), then replacing it 
            with the corresponding letter on the light blue outer-wheel, which represents the 4
            shifted alphabet set (or the <strong>ciphertext</strong>). Repeat this until you get the enciphered text yourself!</p>
        </p>
        <p><strong>Challenge/food for thought:</strong> What happens if you set the key to be bigger than 26 (e.g. 29)?
             What do you notice?
        </p> -->

        <div class="toggle-instructions" onclick="toggleInstructions('container1')">
            <div class="instruction-title" style="font-size: 30px; font-family: Verdana, Geneva, Tahoma, sans-serif; margin-left: 20px;">‚≠ê Mission 1: Encode your message!<br></div>
                <div style="font-size: 15px; font-family: Verdana, Geneva, Tahoma, sans-serif; margin: 40px;" >Click here twice for instructions on turning your messages into secret coded messages <span id="arrow-container1">‚ñæ</span></div>
            <div class="instruction-content" id="instructions-container1">
                <p id="instruction-text-container1"></p>
                <div class="nav-buttons">
                    <button class="nav-btn" onclick="prevStep(event, 'container1')">‚¨ÖÔ∏è Back</button>
                    <button class="nav-btn" onclick="nextStep(event, 'container1')">Next ‚û°Ô∏è</button>
                </div>
            </div>
        </div>

        <div id="container1" class="container" style = "position: relative">
            <div class="wheel-wrapper" style = "position: relative; height: 900px"></div>
                <textarea id="inputText1" style = "position: absolute; bottom: 80px; left: 0px"  placeholder="Enter text to encrypt..." right="0px" oninput="setTimeout(() => encryptAffText(container1, keyInput1, scaleFactor1, inputText1, outputText1),2000); highlightInput(container1,inputText1)" ></textarea>
                <textarea id="outputText1"  style = "position: absolute; bottom: 80px; right: 0px" placeholder="Encrypted text will appear here..." readonly ></textarea>
                <div id="encryptionColour" style="margin-top: 20px;"></div> <!-- For highlighted characters -->
                <!-- <textarea id="inputText2" class="fixed-input-copy" placeholder="Enter text that you want to try to encrypt..."  oninput="encryptText()"></textarea><br>
                <textarea id="userOutputText1" class="userEncryptText" placeholder="Try to encrypt the text here..." oninput="checkEncipher()" ></textarea> -->
                <!-- <button style="position: absolute; right: 10px; bottom: 235px;" type="submit">Submit</button> -->
                <div id="comparisonResult"></div>
                <!-- Outer Wheel -->
                <div class="outer-wheel" id="outerWheel"></div>
                <div class="hide-wheel"></div>
                <div  class="inner-wheel">
                    <div class="scroll">scroll</div>
                    <div class="center-wheel"></div>
                </div>
                <!-- Scaling Factor -->
                <div class="sf-info"> 
                    <h1>Enter the jump size: <br> <input placeholder="0" id="sf1" class="sf" > <br>  </h1>
                </div>
                <div class="key-info">
                    <h2>Enter the shift: <br> <input placeholder="0" id="key1" class="key" > <br>  </h2>
                </div>
            </div>

            <div class="toggle-instructions" onclick="toggleInstructions('container1_1')">
                <div class="instruction-title" style="font-size: 30px; font-family: Verdana, Geneva, Tahoma, sans-serif; margin-left: 20px;">‚≠ê Mission 2: Decode your message!<br></div>
                    <div style="font-size: 15px; font-family: Verdana, Geneva, Tahoma, sans-serif; margin: 40px;" >Click here twice for instructions on decoding your encoded messages into your original message <span id="arrow-container1_1">‚ñæ</span></div>
                    <div class="instruction-content" id="instructions-container1_1">
                <div class="instruction-content" id="instructions-container1_1">
                    <p id="instruction-text-container1_1"></p>
                    <div class="nav-buttons">
                        <button class="nav-btn" onclick="prevStep(event, 'container1_1')">‚¨ÖÔ∏è Back</button>
                        <button class="nav-btn" onclick="nextStep(event, 'container1_1')">Next ‚û°Ô∏è</button>
                    </div>
                </div>
            </div>  
            
        <button class="btn" onclick="appearDisappearText('hint1', this)" style="font-size: 15px;">Hint 1 ‚ú®</button>
        <p id="hint1" style="display: none;"> Use mission 1 to encode a message with a certain jump size with a shift of 0.
            <br> Then find the correct decoding jumping size using this mission (the shift here will be 0 too!).üî•
            <br> After this, try adding the shift and find the correct decoding shift üòâ‚ú®
        </p>
        <button class="btn" onclick="appearDisappearText('hint2', this)" style="font-size: 15px; bottom: 150px;">Hint 2 ‚ú®</button>
        <p id="hint2" style="display: none;"> Here is an example of a decoding that works! üòé
            <br>Try to find why these work!üî•
            <br> e.g. Encoding jumping size = 3, encoding shift = 5. (3x + 5 mod 26)
            <br> Decoding jumping size: <strong>9</strong> (3x9 = 27 &#8801 1 mod 26)
            <br> Decoding shift: <strong>7</strong> (9x(<strong>-5</strong>) &#8801 7 mod 26 )
            <br>
            <br>Careful it's <strong>minus</strong> the encoding shift because it's decryption!üò≤‚ú®
        </p>

        <div id="container1_1" class="container" style = "position: relative">
            <div class="wheel-wrapper" style = "position: relative; height: 900px"></div>
                <!-- <textarea id="inputText" placeholder="Enter text to encrypt..." right="0px" oninput="setTimeout(encryptText,1500)"></textarea>
                <textarea style="position: absolute; right: 0px" id="outputText" placeholder="Encrypted text will appear here..." readonly ></textarea> -->
                <div id="encryptionColour" style="margin-top: 10px;"></div> <!-- For highlighted characters -->
                <textarea id="inputText1_1" style = "position: absolute; top: 80px; left: 0px" class="fixed-input-copy" placeholder="Enter text that you want to try to decrypt..."  oninput="setTimeout(() => encryptAffText(container1_1, keyInput1_1, scaleFactor1_1, inputText1_1, userOutputText1_1),1500); highlightInput(container1_1, inputText1_1)"></textarea><br> <!--oninput="encryptText(container2, key2, inputText2, userOutputText2)"-->
                <textarea id="userOutputText1_1" style="position: absolute; top: 80px; right: 0px" class="userEncryptText" placeholder="Decrypted text will appear here..." readonly ></textarea>
                <!-- <button style="position: absolute; right: 10px; bottom: 235px;" type="submit">Submit</button> -->
                <div id="comparisonResult"></div>
                <!-- Outer Wheel -->
                <div class="outer-wheel" id="outerWheel"></div>
                <div class="hide-wheel"></div>
                <div onmousemove="m(event)" class="inner-wheel">
                <div class="scroll">scroll</div>
                <div class="center-wheel"></div>
                </div>
                <!-- Scaling Factor -->
                <div class="sf-info"> 
                    <h1>Enter the jump size: <br> <input placeholder="0" id="sf1_1" class="sf" > <br>  </h1>
                </div>
                <div class="key-info">
                    <h2>Enter the shift: <br> <input placeholder="0" id="key1_1" class="key" > <br>  </h2>
                </div>
            </div>
        
        <!-- <h4 style="font-size: 30px;">Now try if you can do it on your own!!</h4>
        <p style="font-size: 20px; background-color: rgb(173, 217, 250);"><strong>1. Type in the key</strong><br></p>
        <p style="margin-top: 0px; margin-left: 55px;">This part is the same as the exercise above<br></p>
            <p style="font-size: 20px; background-color: rgb(173, 217, 250);"><strong>2. Type in the plaintext message</strong> you want to encipher in the left textbox (e.g. "I 
                love __")<br></p>
            <p style="margin-top: 0px; margin-left: 55px;">(<strong>Tip: </strong> Try not to make the plaintext too long!) <br></p>
            <p style="font-size: 20px; background-color: rgb(173, 217, 250);"><strong>3. Guess the enciphered message!</strong><br></p>
            <p style="margin-top: 0px; margin-left: 55px;">Type what you think it will be in the right textbox!</p>
            </p> -->

        <!-- <div class="toggle-instructions" onclick="toggleInstructions('container2')">
            <div class="instruction-title" style="font-size: 30px; font-family: Verdana, Geneva, Tahoma, sans-serif; margin-left: 20px;">‚≠ê Mission 3: Try encoding the message by yourself!<br></div>
                <div style="font-size: 15px; font-family: Verdana, Geneva, Tahoma, sans-serif; margin: 40px;" >Click here for instructions on encoding your message from your original message <span id="arrow-container2">‚ñæ</span></div>
                <div class="instruction-content" id="instructions-container2">
            <div class="instruction-content" id="instructions-container2">
                <p id="instruction-text-container2"></p>
                <div class="nav-buttons">
                    <button class="nav-btn" onclick="prevStep(event, 'container2')">‚¨ÖÔ∏è Back</button>
                    <button class="nav-btn" onclick="nextStep(event, 'container2')">Next ‚û°Ô∏è</button>
                </div>
            </div>
        </div> -->
        
        <div id="container2" class="container" style = "position: relative">
            <div class="wheel-wrapper" style = "position: relative; height: 900px"></div> 
                <!-- <textarea id="inputText" placeholder="Enter text to encrypt..." right="0px" oninput="setTimeout(encryptText,1500)"></textarea>
                <textarea style="position: absolute; right: 0px" id="outputText" placeholder="Encrypted text will appear here..." readonly ></textarea> -->
                 <div id="encryptionColour" style="margin-top: 10px;"></div> <!--For highlighted characters -->
                 <textarea id="inputText2" style = "position: absolute; bottom: 80px; left: 0px" class="fixed-input-copy" placeholder="Enter text that you want to try to encrypt..."  oninput=" highlightInput(container2, inputText2)"></textarea><br> <!--oninput="encryptAffText(container2, key2, sf2, inputText2, userOutputText2)" -->
                <textarea id="userOutputText2" style="position: absolute; bottom: 80px; right: 0px" class="userEncryptText" placeholder="Try to encrypt the text here..." oninput="checkAffEncipher(container2, key2, sf2, inputText2, userOutputText2)" ></textarea> 
                <button style="position: absolute; right: 10px; bottom: 235px;" type="submit">Submit</button>
                <p style="position: absolute; right: 80px; bottom: 300px" id="message" text-align="center"> </p>
                <div id="comparisonResult"></div>
                <!-- Outer Wheel -->
                <div class="outer-wheel" id="outerWheel"></div>
                <div class="hide-wheel"></div>
                <div onmousemove="m(event)" class="inner-wheel">
                <div class="scroll">scroll</div>
                <div class="center-wheel"></div>
                </div>
                <!-- Scaling Factor -->
                <div class="sf-info"> 
                    <h1>Enter the jump size: <br> <input placeholder="0" id="sf2" class="sf" > <br>  </h1>
                </div>
                <div class="key-info">
                    <h2>Enter the shift: <br> <input placeholder="0" id="key2" class="key" > <br>  </h2>
                </div>
            </div>


             <div id="container3" class="container" style = "position: relative">
                <div class="wheel-wrapper" style = "position: relative; height: 900px"></div>
                    
                    <div id="encryptionColour" style="margin-top: 10px;"></div> <!--For highlighted characters -->
                    <textarea id="inputText3" style = "position: absolute; bottom: 80px; left: 0px" class="fixed-input-copy" placeholder="Enter text that you want to try to encrypt..."  oninput="caesarNumCipherRed('inputText3', 'key3', 26, 'userOutputText3', 'workingOut3'); highlightInput(container3, inputText3)"></textarea><br> <!--oninput="encryptText(container2, key2, inputText2, userOutputText2)"-->
                    <p id="workingOut3" style="right: 80px; bottom: 300px; color: blue" text-align="center"></p>
                    <textarea id="userOutputText3" style="position: absolute; bottom: 80px; right: 0px" class="userEncryptText" placeholder="Try to encrypt the text here..." oninput="checkEncipher(container3, key3, inputText3, userOutputText3)" ></textarea>
                   
                    <p style="position: absolute; right: 80px; bottom: 300px" id="message" text-align="center"> </p>
                    <div id="comparisonResult"></div>
                    
                    <div class="outer-wheel" id="outerWheel" ></div>
                    <div class="hide-wheel" ></div>
                    <div onmousemove="m(event)" class="inner-wheel">
                    <div class="scroll">scroll</div>
                    <div class="center-wheel" ></div>
                    </div>
                    <div class="key-info">
                        <h1>Enter the shift: <br> <input placeholder="0" id="key3" class="key" > <br>  </h1>
                    </div>
                </div>
        

                <div id="container4" class="container" style = "position: relative">
                    <div class="wheel-wrapper" style = "position: relative; height: 900px"></div>
                        <div id="encryptionColour" style="margin-top: 10px;"></div> <!--For highlighted characters -->
                        <textarea id="inputText4" style = "position: absolute; bottom: 80px; left: 0px" class="fixed-input-copy" placeholder="Enter text that you want to try to encrypt..."  oninput="caesarNumCipherMod('inputText4', 'key4', sliderMod, 'userOutputText4', 'workingOut4');"></textarea><br> <!--oninput="encryptText(container2, key2, inputText2, userOutputText2)"-->
                        <p id="workingOut4" style="right: 80px; bottom: 0px; color: blue" text-align="center"></p>
                        <textarea id="userOutputText4" style="position: absolute; bottom: 80px; right: 0px" class="userEncryptText" placeholder="Try to encrypt the text here..." oninput="checkEncipher(container4, key4, inputText4, userOutputText4)" ></textarea>
                       
                        <p style="position: absolute; right: 80px; bottom: 300px" id="message" text-align="center"> </p>
                        <div id="comparisonResult"></div>
                        
                        <div class="outer-wheel" id="outerWheel"></div>
                        <div class="hide-wheel"></div>
                        <div onmousemove="m(event)" class="inner-wheel">
                            <div class="scroll">scroll</div>
                            <div class="center-wheel"></div>
                        </div>
                        <div class="key-info">
                            <h1>Enter the shift: <br> <input placeholder="0" id="key4" class="key" > <br>  </h1>
                        </div>
                        <div style="position: absolute; left: 40px; bottom: 500px; margin-bottom: 5px;">
                            <label for="segmentSlider"> Modulus (m): </label>
                            <input type="range" id="segmentSlider" min="2" max="45" value="26" step="1" oninput="changeSegment()">
                            <p style="position: relative; left: -30px; bottom: 0px;">Number of Segments: <span id="segmentValue"> 26</span></p>
                        </div>
                    </div>
    
    

    </main>

    <script src="affinescript.js"></script>

    <!-- <script src="script2.js"></script> -->

    <script>
        // document.addEventListener('keydown', highlightInput);
        // document.addEventListener('keydown', delayHighlightOutwheel);
        // caesarWheel(container1, charSet, numSegments, 162);
        
        affineWheel(container1, charSet, numSegments, 162, sf1, outputText1);
        affineWheel(container1_1, charSet, numSegments, 162, sf1_1, userOutputText1_1);
        affineWheel(container2, charSet, numSegments, 162, sf2, userOutputText2);
        // caesarWheel(container2, charSet, numSegments, 162);
        // caesarWheel(container3, charSet, numSegments, 162);
        // caesarWheel(container4, charSet, numSegments, 162);
        


        // document.addEventListener('keydown', highlightInput);
        // document.addEventListener('keydown', delayHighlightOutwheel);
     
    </script>
    

    </body>
</html>

